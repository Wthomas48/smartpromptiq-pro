# SmartPromptIQ Pro Environment Configuration
# Copy this file to .env and update with your actual values

# =======================
# APPLICATION SETTINGS
# =======================
NODE_ENV=development
PORT=5000
FRONTEND_URL=http://localhost:5173
CLIENT_URL=http://localhost:5173
SERVER_URL=http://localhost:5000

# =======================
# DATABASE CONFIGURATION
# =======================
# SQLite database path (development)
DATABASE_URL="file:./database.sqlite"

# For PostgreSQL (production recommended):
# DATABASE_URL="postgresql://username:password@localhost:5432/smartpromptiq"
# For Neon (free PostgreSQL):
# DATABASE_URL="postgresql://user:pass@ep-cool-darkness-123456.us-east-1.aws.neon.tech/smartpromptiq?sslmode=require"

# =======================
# JWT AUTHENTICATION
# =======================
# Generate a strong secret: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_super_secret_jwt_key_here_32_characters_minimum
JWT_EXPIRES_IN=7d
BCRYPT_ROUNDS=12

# =======================
# STRIPE CONFIGURATION
# =======================
# Get these from your Stripe Dashboard (https://dashboard.stripe.com/)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Price IDs for subscription tiers (create these in Stripe Dashboard)
STRIPE_PRICE_STARTER_MONTHLY=price_starter_monthly_id
STRIPE_PRICE_STARTER_YEARLY=price_starter_yearly_id
STRIPE_PRICE_PRO_MONTHLY=price_pro_monthly_id
STRIPE_PRICE_PRO_YEARLY=price_pro_yearly_id
STRIPE_PRICE_BUSINESS_MONTHLY=price_business_monthly_id
STRIPE_PRICE_BUSINESS_YEARLY=price_business_yearly_id
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_enterprise_monthly_id
STRIPE_PRICE_ENTERPRISE_YEARLY=price_enterprise_yearly_id

# Stripe Price IDs for token packages
STRIPE_PRICE_TOKENS_25=price_tokens_25_id
STRIPE_PRICE_TOKENS_100=price_tokens_100_id
STRIPE_PRICE_TOKENS_500=price_tokens_500_id
STRIPE_PRICE_TOKENS_1000=price_tokens_1000_id

# =======================
# AI API CONFIGURATION
# =======================
# OpenAI API (for AI prompt generation)
OPENAI_API_KEY=sk-your_openai_api_key_here

# Anthropic Claude API (alternative)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# =======================
# COST PROTECTION SETTINGS
# =======================
# Alert when user costs exceed this percentage of their payment (0.0 to 1.0)
MONTHLY_COST_ALERT_THRESHOLD=0.3

# Hard limit - suspend user when costs exceed this percentage (0.0 to 1.0)
MONTHLY_COST_HARD_LIMIT=0.7

# Minimum profit margin multiplier (revenue/cost ratio)
MINIMUM_PROFIT_MARGIN=3.0

# Token expiration in days (default: 90)
TOKEN_EXPIRY_DAYS=90

# =======================
# EMAIL CONFIGURATION
# =======================
# SendGrid (recommended for production)
SENDGRID_API_KEY=SG.your-sendgrid-api-key-here
FROM_EMAIL=noreply@smartpromptiq.com

# Alternative SMTP configuration
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# FROM_NAME=SmartPromptIQ

# =======================
# RATE LIMITING
# =======================
# Enable rate limiting (true/false)
ENABLE_RATE_LIMITING=true

# Rate limit window in milliseconds (default: 15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# Max requests per window per IP
RATE_LIMIT_MAX_REQUESTS=1000

# =======================
# SESSION CONFIGURATION
# =======================
SESSION_SECRET=your-session-secret-change-this-in-production

# =======================
# LOGGING AND MONITORING
# =======================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn-here

# =======================
# REDIS CONFIGURATION (Optional)
# =======================
# For session storage and caching (production recommended)
# REDIS_URL=redis://localhost:6379

# =======================
# SECURITY SETTINGS
# =======================
# Enable HTTPS in production
# SECURE_COOKIES=true
# TRUST_PROXY=true
# FORCE_HTTPS=false

# CORS origins (comma-separated for multiple origins)
# CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# =======================
# ADMIN SETTINGS
# =======================
# Admin email for system alerts
ADMIN_EMAIL=admin@smartpromptiq.com

# Super admin user ID (for system operations)
# SUPER_ADMIN_ID=admin_user_id_here

# =======================
# FEATURE FLAGS
# =======================
# Enable/disable features
ENABLE_ANALYTICS=true
ENABLE_COST_PROTECTION=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_CAPTCHA=false

# Google reCAPTCHA (if enabled)
# RECAPTCHA_SITE_KEY=your_recaptcha_site_key
# RECAPTCHA_SECRET_KEY=your_recaptcha_secret_key